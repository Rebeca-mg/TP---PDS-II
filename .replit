modules = ["nodejs-20", "python-3.11", "cpp"]

[nix]
channel = "stable-24_05"

[workflows]
runButton = "Compile and Run Simon Game"

[[workflows.workflow]]
name = "Compile and Run Simon Game"
author = 43961097
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd cpp_simon_game && mkdir -p obj bin && g++ -std=c++11 -Wall -Wextra -Wpedantic -O2 -Iinclude -c src/SequenceGenerator.cpp -o obj/SequenceGenerator.o && g++ -std=c++11 -Wall -Wextra -Wpedantic -O2 -Iinclude -c src/Player.cpp -o obj/Player.o && g++ -std=c++11 -Wall -Wextra -Wpedantic -O2 -Iinclude -c src/ScoreManager.cpp -o obj/ScoreManager.o && g++ -std=c++11 -Wall -Wextra -Wpedantic -O2 -Iinclude -c src/SimonGame.cpp -o obj/SimonGame.o && g++ -std=c++11 -Wall -Wextra -Wpedantic -O2 -Iinclude -c main.cpp -o obj/main.o && g++ -std=c++11 -o bin/simon_game obj/*.o && ./bin/simon_game"

[deployment]
run = ["sh", "-c", "python -m http.server 5000"]

[[ports]]
localPort = 5000
externalPort = 80
